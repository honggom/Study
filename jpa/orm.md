##### 양방향 매핑의 규칙 : 연관관계의 주인
> 양방향 연관관계 매핑 시 지켜야 할 규칙이 있는데 두 연관관계 중 하나를 연관관계의 주인으로 정해야 한다.
> 연관관계의 주인만이 데이터베이스 연관관계와 매핑되고 외래 키를 관리(등록, 수정, 삭제)할 수 있다. 반면에
> 주인이 아닌 쪽은 읽기만 할 수 있다.

##### 어떤 연관관계를 주인으로 정할지는 mappedBy 속성을 사용하면 된다.
- 주인은 mappedBy 속성을 사용하지 않는다.
- 주인이 아니면 mappedBy 속성을 사용해서 속성의 값으로 연관관계의 주인을 지정해야 한다.

##### 연관관계의 주인을 정한다는 것은 사실 외래 키 관리자를 선택하는 것이다.
> 연관관계의 주인은 테이블에 외래 키가 있는 곳으로 정해야 한다. 

##### 연관관계의 주인을 정하는 기준
> 단방향은 항상 외래 키가 있는 곳을 기준으로 매핑하면 된다. 하지만 양방향은 연관관계의 주인이라는 이름으로 인해 오해가 있을
> 수 있다. 비즈니스 로직상 더 중요하다고 연관관계의 주인으로 선택하면 안 된다. 비즈니스 중요도를 배제하고 단순히 외래 키 
> 관리자 정도의 의미만 부여해야 한다. 
> > 따라서 연관관계의 주인은 외래 키의 위치와 관련해서 정해야지 비즈니스 중요도로 접근하면 안 된다.

##### 다중성
- 다대일
- 일대다
- 일대일
- 다대다

##### 단방향, 양방향
> 테이블은 외래 키 하나로 조인을 사용해서 양방향으로 쿼리가 가능하므로 사실상 방향이라는 개념이 없다. 반면에 객체는
> 참조용 필드를 가지고 있는 객체만 연관된 객체를 조회할 수 있다. 객체 관계에서 한 쪽만 참조하는 것을 단방향 관계라 하고,
> 양쪽이 서로 참조하는 것을 양방향 관계라 한다.

##### @MappedSuperclass
> 부모 클래스는 테이블과 매핑하지 않고 부모 클래스를 상속 받는 자식 클래스에게 매핑 정보만 제공하고 싶으면 @MappedSuperclass를 
> 사용하면 된다.
- 테이블과 매핑되지 않고 자식 클래스에 엔티티의 매핑 정보를 상속하기 위해 사용한다.
- @MappedSuperclass로 지정한 클래스는 엔티티가 아니므로 em.find() 나 JPQL에서 사용할 수 없다.
- 이 클래스를 직접 생성해서 사용할 일은 거의 없으므로 추상 클래스로 만드는 것을 권장한다.

##### 식별 관계 vs 비식별 관계
> 식별 관계
> > 식별 관계는 부모 테이블의 기본 키를 내려 받아서 자식 테이블의 기본 키 + 외래 키로 사용하는 관계이다.

> 비식별 관계
> > 비식별 관계는 부모 테이블의 기본 키를 받아서 자식 테이블의 외래 키로만 사용하는 관계다.
- 필수적 비식별 관계 : 외래 키에 null을 허용하지 않는다. 연관관계를 필수적으로 맺어야 한다.
- 선택적 비식별 관계 : 외래 키에 null을 허용한다. 연관관계를 맺을지 말지 선택할 수 있다.