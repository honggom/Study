### CPU 기본 구성

---

#### 산술논리 연산장치
> 데이터의 덧셈, 뺄셈, 곱셈, 나눗셈 같은 산술 연산과 AND, OR 같은 논리 연산을 수행한다.
#### 제어장치
> CPU에서 작업을 지시하는 부분을 제어장치라고 한다.
#### 레지스터
> CPU내에 데이터를 임시로 보관하는 곳을 레지스터라고 한다.
##### 레지스터 종류
- 데이터 레지스터(DR) : 데이터 레지스터는 메모리에서 가져온 데이터를
임시로 보관할 때 사용한다. CPU에 있는 레지스터가 대부분 데이터 레지스터이다.
- 주소 레지스터(AR) : 데이터 또는 명령어가 저장된 메모리의 주소는 주소 레지스터에 저장된다.
- 프로그램 카운터(PC) : CPU는 다음에 어떤 명령어를 처리해야 할지 알아야 한다. 프로그램 카운터는 다음에 실행할 
명령어의 주소를 기억하고 있다가 제어장치에 알려준다.실행할 명령어의 주소를 가리키기 때문에 프로그램 카운터를 명령어 포인터라고도 한다.
- 명령어 레지스터(IR) : 현재 실행 중인 명령어를 저장한다. 제어장치는 명령어 레지스터에 있는 명령을 해석한 후 외부 장치에 적절한 제어 신호를 보낸다.
- 메모리 주소 레지스터(MAR) : 메모리 주소 레지스터는 메모리에서 데이터를 가져오거나 반대로 메모리로 데이터를 보낼 때 주소를 지정하기
위해 사용한다. 명령어를 처리하는 과정에서 필요한 메모리 주소를 이 레지스터에 넣으면 메모리 관리자가 이를 인식하여 해당 메모리 위치의 데이터를
가져오거나 해당 메모리 위치에 데이터를 저장한다.
- 메모리 버퍼 레지스터(MBR) : 메모리 버퍼 레지스터는 메모리에서 가져온 데이터나 메모리로 옮겨 갈 데이터를 임시로 저장한다. 메모리 버퍼 레지스터는
항상 메모리 주소 레지스터와 함께 동작한다.

---

#### 버스
> 버스는 CPU와 메모리, 주변장치 간에 데이터를 주고받을 때 사용한다. 
- 제어 버스 : 제어장치와 연결된 버스로, CPU가 메모리와 주변장치에 제어 신호를 보내기 위해 사용한다. 메모리와
주변장치에서도 작업이 완료되거나 오류가 발생하면 제어 신호를 보내기 때문에 양방향이다.
- 주소 버스 : 메모리 주소 레지스터와 연결된 버스로, 메모리나 주변장치에 데이터를 읽거나 쓸 때 위치 정보를 보내기 위해 사용하여 단방향이다.
- 데이터 버스 : 메모리 버퍼 레지스터와 연결된 버스로, 데이터의 이동이 양방향으로 이루어진다.
#### 버스의 대역폭
> 버스의 대역폭은 한 번에 전달할 수 있는 데이터의 최대 크기를 말한다. 32bit CPU, 64bit CPU에서 `32bit`, `64bit`
는 CPU가 한 번에 처리할 수 있는 데이터의 최대 크기이다. 32bit CPU는 메모리에서 데이터를 읽거나 쓸 때 한 번에 최대 32bit
를 처리할 수 있으며, 이 경우 레지스터의 크기도 32bit. 버스의 대역폭도 32bit이다.

--- 

#### 메모리
#### 휘발성 메모리
> 휘발성 메모리에는 DRAM(Dynamic RAM)과 SRAM(Static RAM)이 있다. DRAM은 일정 시간이 지나며 데이터가 사라지므로
일정 시간마다 다시 재생시켜야 한다. SRAM은 전력이 공급되는 동안에는 데이터를 보관할 수 있어 재생할 필요가 없다. 따라서
속도는 빠르지만 가격이 비싸다. 일반적으로 메인메모리에 DRAM을 사용하고, 캐시 같은 고속 메모리에는 SRAM을 사용한다.
> > SDRAM은 DRAM이 발전된 형태로 SRAM과는 완전히 다른 종류의 RAM이다. SDRAM은 클록틱이 발생할 때마다 데이터를 저장하는
동기 DRAM이다.

#### 비휘발성 메모리
> 비휘발성 메모리에는 플래시 메모리, FRAM, PRAM등이 있다. 이 중 플래시 메모리는 디지털카메라, MP3 플레이어, USB 드라이버같이
전력이 없어도 데이터를 보관하는 저장장치로 많이 사옹된다.

#### 메모리 보호
> 일괄 작업 시스템에서는 메모리가 운영체제 영역과 사용자 영역으로 구분된다. 일괄 작업 시스템에서 메모리 보호는 사용자 영역의 작업이
운영체제 영역으로 침범하지 못하도록 막는 것이다. 운영체제도 소프트웨어 중 하나라는 사실을 잊지 말아야 한다. 운영체제도 CPU를 사용하는
작업 중 하나이기 때문에 사용자의 작업이 진행되는 동안에는 운영체제의 작업이 잠시 중단된다. 운영체제의 작업이 중단된 상태에서 사용자의 작업
으로부터 메모리를 보호하려면 하드웨어의 도움이 필요하다.
> > 메모리를 보호하기 위해 CPU는 현재 진행 중인 작업의 메모리 시작 주소를 경계 레지스터에 저장한 후 작업을 한다. 또한 현재 진행 중인
작업이 차지하고 있는 메모리의 크기, 즉 마지막 주소까지의 차이를 한계 레지스터에 저장한다. 그리고 사옹자의 작업이 진행되는 동안 이 두 레지스터의
주소 범위를 벗어나는지 하드웨어적으로 점검함으로써 메모리를 보호한다.

---

#### 부팅
> 컴퓨터를 켰을 때 운영체제를 메모리에 올리는 과정을 부팅이라고 한다. 

---

#### 버퍼
> 버퍼는 속도에 차이가 있는 두 장치 사이에서 그 차이를 완화하는 역할을 한다. 보관 창고에 있는 귤 5개를 옮긴다고 가정해보자.
한 번에 하나씩 옮기면 다섯 번을 왕복해야 하지만 귤을 바구니에 담아서 옮기면 한 번에 5개를 옮길 수 있어 효율적인데, 이 경우의 바구니는
버퍼에 비유된다.

---

#### 스풀 
> 버퍼와 유사한 용어로 스풀이 있다. 스풀은 CPU와 입출력장치가 독립적으로 동작하도록 고안된 소프트웨어적인 버퍼로, 대표적인 예는 프린터
에 사용되는 스풀러이다. 스풀러는 인쇄할 내용을 순차적으로 출력하는 소프트웨어로, 출력 명령을 내린 프로그램과 독립적으로 동작한다.

--- 

#### 캐시
> 캐시는 메모리와 CPU 간의 속도 차이를 완하하기 위해 메모리의 데이터를 미리 가져와 저장해두는 임시 장소이다.
캐시는 필요한 데이터를 모아 한꺼번에 전달하는 버퍼의 일종으로 CPU가 앞으로 사용할 것으로 예상되는 데이터를 미리 가져다놓는다. 이렇게 미리
가져오는 작업을 미리 가져오기라고 한다.
> > 캐시는 CPU 안에 있으며 CPU 내부 버스의 속도로 작동한다. 메모리의 경우 시스템 버스의 속도로 작동하기 때문에
느리다. 캐시는 빠른 속도로 작동하는 CPU와 느린 속도로 작동하는 메모리 사이에서 두 장치의 속도 차이를 완화해준다.
- 즉시 쓰기 : 즉시 쓰기는 캐시에 있는 데이터가 변경되면 이를 즉시 메모리에 반영하는 방식이다. 메모리와의 빈번한 데이터 전송으로 인해 성능이 느려진다는 것이 단점이지만,
메모리의 최신 값이 항상 유지되기 때문에 급작스러운 정전에도 데이터를 잃어버리지 않는다.
- 지연 쓰기 : 지연 쓰기는 주기적으로 반영하는 방식으로 데이터 전송 횟수가 줄어들어 시스템의 성능을 향상할 수 있으나 메모리와
캐시된 데이터 사이의 불일치가 발생할 수 있다는 것이 단점이다.
- L1 캐시 : 명령어 캐시는 명령어 레지스터와 연결되어 있고, 데이터 캐시는 데이터 레지스터와 연결되어 있다. 명령어 캐시나 데이터 캐시는
CPU 레지스터에 직접 연결되기 때문에 L1 캐시라고 부른다.
- L2 캐시 : 일반 캐시는 메모리와 연결되기 때문에 L2 캐시라고 부른다.

---

#### 인터럽트
> 인터럽트 방식을 요리사에 비유하면 요리사 옆에 주방 보조를 두는 것과 같다. 요리사는 필요한 재료를 가져오도록 주방 보조에게 시키고 자신은 계속
요리를 하며, 지시를 받은 주방 보조는 재료를 가져다 도마에 올려놓고 재료가 준비되었다는 것을 요리사에게 알려준다. 인터럽트 방식은 CPU의 작업과
저장장치의 데이터 이동을 독립적으로 운영함으로써 시스템의 효율을 높인다.

#### 인터럽트 동작 과정
1. CPU가 입출력 관리자에게 입출력 명령을 보낸다.
2. 입출력 관리자는 명령받은 데이터를 메모리에 가져다놓거나 메모리에 있는 데이터를 저장장치로 옮긴다.
3. 데이터 전송이 완료되면 입출력 관리자는 완료 신호를 CPU에 보낸디.